# Face Detection App

This workflow retrieves all images from Ap[ertureDB that have not been analyzed before, and runs them through a face detection algorithm.
This generates zero or more bounding boxes for each image and, optionally, a descriptor for each bounding box.

## Database details

TODO wf_facenet_processed, wf_facenet_confidence

## Running in Docker

```
docker run \
           -e RUN_NAME=my_testing_run \
           -e DB_HOST=workflowstesting.gcp.cloud.aperturedata.dev \
           -e DB_PASS="password" \
           aperturedata/workflows-face-detection
```

Parameters: 
* **`MODEL_NAME`**: Specifies the model to be used.
Available options are: ['RN50', 'RN101', 'RN50x4', 'RN50x16', 'RN50x64', 'ViT-B/32', 'ViT-B/16', 'ViT-L/14', 'ViT-L/14@336px']. Default is `ViT-B/16`.
* **`NUMTHREAD`**: Specifies the number of threads that will be running simultaneously,
retrieving and computing embeddings in parallel. Default is `4`.
* **`CLEAN`**: Boolean flag specifying whether all objects generated by previous runs
of this workflow will be cleaned before starting the retrieval and insertion.
Default is `false`.
* **`RUN_ONCE`**: Boolean flag specifying whether the workflow will run on an infinite
loop, or if it will exit upon completion, without watching for new images.
Default is `false`.

See [Common Parameters](../../README.md#common-parameters) for common parameters.

## Cleaning up

TODO